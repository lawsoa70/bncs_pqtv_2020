<html>

<!-- #BeginTemplate "master.dwt" -->

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<!-- #BeginEditable "doctitle" -->
<title>Sourcegrid Control Reference</title>
<!-- #EndEditable -->
<link rel="stylesheet" type="text/css" href="siemens.css">
</head>

<body topmargin="0" leftmargin="0" rightmargin="0" bottommargin="0" marginwidth="0" marginheight="0">

<table border="0" width="100%" height="100%" id="table1" bordercolor="#A0B6C0" cellspacing="0" cellpadding="0">
	<tr>
		<td width="639" height="91" bgcolor="#A0B6C0">
		<img border="0" src="header.jpg" width="638" height="91"></td>
		<td height="91" valign="bottom" bgcolor="#A0B6C0">&nbsp;</td>
	</tr>
	<tr>
		<td colspan="2" align="left" valign="top">
		<table border="0" width="100%" height="100%">
			<tr>
				<td width="36">&nbsp;</td>
					<td valign="top">
					<!-- #BeginEditable "main" -->
<h1>
	BNCS Source Grid</h1>
<h2>
	<font color="#FF0000">This control is deprecated</font></h2>
					<h2>
	Description</h2>
					<p>
	This is an interim solution to router control smart button - it is not truly 
	a super-smart as it hasn't got (and can't easily have) the full range of 
	display options e.g. grid, popup grid from button/label etc. </p>
					<p>
	The way sources and destinations are mapped onto buttons is the model 
	devised for some of the earliest &quot;mappable&quot; BNCS routing systems and is not 
	necessarily ideal for BNCSi.</p>
					<p>
	This control can be used as a grid of source buttons, or as a grid of 
	destination buttons with the router tallies displayed.</p>
					<p>
	There are other options which allow a few additional labels to be displayed. 
	The source for these labels is configurable to be either router databases or 
	simple infodriver slots.</p>
					<h2>
	Button Mapping</h2>
					<p>
	Buttons are mapped to router subscribers using an &quot;upper&quot; BNCS database (DB 
	2-9).<br>
	An example ini file section is shown here:</p>
					<blockquote>
						<table border="0" bgcolor="#D5E1E3" id="table2">
							<tr>
								<td class="inifile">[Database_8]<br>
								0001=4,0,11,12,13,14,15,16,17,18,19,20,<br>
								0002=3,2,1,5,6,7,8,9,10,0,0,12,11,</td>
							</tr>
						</table>
					</blockquote>
					<p>
	It is definable within the control which database of which is used and what 
	index is used to select a comma delimited list of numbers. The list of 
	numbers is then split and used to populate the array of buttons. <br>
	If a grid control is configured to have 16 buttons and set to look at entry 
	0001 above and set to show destination names then the top left button will 
	show the destination 4 name, the top right button destination 12. The second 
	row will start on the left with the destination 13 name etc. etc. There is 
	only 12 numbers in this list so buttons 13-16 will be disabled (along with 
	button 2 which is zero).</p>
					<h2>
	Lock Destinations</h2>
					<p>
	<b><font color="#FF0000">THIS FEATURE IS STILL INCLUDED FOR BACKWARDS 
	COMPATIBILITY BUT SHOULD NOT BE USED. LOCKING USING ROUTER DATABASES IS 
	PRONE TO DATA LOSS SINCE DEV_xxx.INI FILES ARE SYNCHRONISED WITH, BUT NOT 
	UPDATED ON, THE SYSTEM SERVER</font></b></p>
					<p>
	Enable this behaviour with setting the Enable tick box in the Lock 
	Destinations section of the Appearance tab of the settings dialog, which 
	results a &lt;setting value=&quot;lockingenabled=true&quot; /&gt; entry in the corresponding 
	bncs_ui file.<br>
	When enabled, the control looks for the [Controller] section of the router 
	ini file, which contains the controller id-s of the router; thereafter looks 
	the [Controller] section of the controller ini file. This file contains 
	which destination ports are locked. The buttons belonging to the locked 
	destination slots are displayed as disabled on the GUI, so they are grey, 
	and the user of the Panel Manager couldn't have the possibility to change 
	them.</p>
					<h2>
	Settings</h2>
					<p>
	You can pass any of the following settings to this control in the format:</p>
					<blockquote>
						<p class="inifile">&lt;parameter&gt;=&lt;value&gt;</p>
					</blockquote>
					<p>
	Default values (those when a new button is created or when a reset command 
	issued) are shown in <b>bold</b>.</p>
					<blockquote>
						<table border="0" bgcolor="#D5DEE3" id="table3">
							<tr>
								<th>Parameter</th>
								<th>Value</th>
								<th>Notes</th>
							</tr>
							<tr class="tick">
								<td>reset </td>
								<td>&nbsp;</td>
								<td>Used to reset all the parameters of this 
								control back to their default state</td>
							</tr>
							<tr class="tock">
								<td>columns</td>
								<td><b>3</b></td>
								<td>The number of columns of buttons for this 
								grid control</td>
							</tr>
							<tr class="tick">
								<td>rows</td>
								<td><b>3</b></td>
								<td>The number of rows of buttons for this grid 
								control</td>
							</tr>
							<tr class="tock">
								<td>page</td>
								<td><b>1</b></td>
								<td>The page to select (added to the pageoffset 
								value to determine the index within the database 
								to use for this entry)</td>
							</tr>
							<tr class="tick">
								<td>pageoffset</td>
								<td><b>0</b></td>
								<td>The page to select (added to the page value 
								to determine the index within the database to 
								use for this entry)</td>
							</tr>
							<tr class="tock">
								<td>mapdb</td>
								<td><b>8</b></td>
								<td>The BNCS database number (2-9) to use for 
								the button mapping information. In theory you 
								could use database 0/1 but these are limited to 
								16 characters.</td>
							</tr>
							<tr class="tick">
								<td>namesdb</td>
								<td><b>0</b></td>
								<td>Which database to use to get the names from 
								(0-9). The default is &quot;0&quot; - sources.</td>
							</tr>
							<tr class="tock">
								<td>device</td>
								<td><b>0</b></td>
								<td>The BNCS device number of the router to 
								control. This device number is used for both the 
								names displayed and the button mapping 
								information</td>
							</tr>
							<tr class="tick">
								<td>notify.pressed<br>
								notify.released<br>
								notify.name<br>
								notify.tally<br>
								notify.index </td>
								<td><b>false</b><br>
								<b>true<br>
								true</b><br>
								<b>true</b><br>
								<b>false</b></td>
								<td>Whether to send notification messages for 
								the relevant events.
								<p><b>Note: </b>a tally notification is only 
								sent if the tally label is selected as one of 
								the multibuttons</td>
							</tr>
							<tr class="tock">
								<td>stylesheet.selected<br>
								stylesheet.deselected<br>
								stylesheet.tally<br>
								stylesheet.label </td>
								<td><b>sourcegrid_selected</b><br>
								<b>sourcegrid_deselected</b><br>
								<b>sourcegrid_tally</b><br>
								<b>sourcegrid_label</b> </td>
								<td>The stylesheets used for the various 
								components of this button - there is no option 
								to directly set the stylesheet of individual 
								labels.<br>
								It is suggested that you try and use the default 
								entries.</td>
							</tr>
							<tr class="tick">
								<td>show.tally<br>
								show.label.1<br>
								show.label.2<br>
								show.label.3<br>
								show.label.4</td>
								<td><b>false<br>
								false<br>
								false<br>
								false<br>
								false</b></td>
								<td>Which of the additional buttons above and 
								below the main button are displayed.<br>
								This requires the multibutton option to be set 
								to true</td>
							</tr>
							<tr class="tock">
								<td>lockingenabled</td>
								<td><b>false</b><br>
								true</td>
								<td>Whether the slots are checked in ini file 
								for locking (SEE NOTE ABOVE)</td>
							</tr>
							<tr class="tick">
								<td>multibutton</td>
								<td><b>false</b><br>
								true</td>
								<td>Whether the additional buttons above and 
								below the main button are displayed</td>
							</tr>
							<tr class="tock">
								<td>tally_source</td>
								<td><b>tally</b><br>
								tally_db2<br>
								infodriver<br>
								button_db2</td>
								<td>Where to get the information from to display 
								on the &quot;tally&quot; label (this requires this option 
								to have been enabled).<p>The options are:<br>
								tally - the source tally db0 name that is routed 
								to this destination<br>
								tally_db2 - the source tally db2 name that is 
								routed to this destination<br>
								infodriver - the contents of an infodriver slot 
								the index of which is the same as the router 
								index mapped to this button<br>
								button_db2 - the database 2 entry of the button 
								name </td>
							</tr>
							<tr class="tick">
								<td>label_source</td>
								<td><b>infodriver</b><br>
								tally_db3456<br>
								button_db3456</td>
								<td>Where to get the information from to display 
								in the label(s) beneath the button.<p>The 
								options are:<br>
								infodriver - the contents of an infodriver slot 
								the index of which is the same as the router 
								index mapped to this button. There is a single 
								infodriver slot for all the labels and the 
								information is comma delimited.<br>
								tally_db3456 - the database 3-6 entries for the 
								tally source<br>
								button_db3456 - the database 3-6 for the same 
								index that's mapped to this button</td>
							</tr>
							<tr class="tock">
								<td>tally_infodriver</td>
								<td><b>0</b></td>
								<td>The infodriver device number to use for the 
								tally label display if infodriver is selected as 
								the tally source</td>
							</tr>
							<tr class="tick">
								<td>label_infodriver</td>
								<td><b>0</b></td>
								<td>The infodriver device number to use for the 
								tally label display if infodriver is selected as 
								the label source</td>
							</tr>
							<tr class="tock">
								<td>sizepolicy</td>
								<td><b>setminimum</b><br>
								asdesigned<br>
								shrinktofit</td>
								<td>How to deal with text that doesn't fit on a 
								button.
								<p>See the bncs_control documentation for more 
								information.</td>
							</tr>
							<tr class="tick">
								<td>button.&lt;buttonId&gt;=released</td>
								<td>&nbsp;</td>
								<td>A script may emulate the pressing of a 
								button.<p>The button is of the format:<br>
								button_xxx<br>
								where the xxx is the button number starting from 
								1 at top left and continuing in horizontal rows 
								to bottom right.</td>
							</tr>
						</table>
					</blockquote>
					<h2>
	Notifications</h2>
					<p>
	Notifications are also in the format:</p>
					<blockquote>
						<p class="inifile">&lt;parameter&gt; = &lt;value&gt;</p>
						<table border="0" bgcolor="#E4EAED" id="table4">
							<tr>
								<th>Parameter</th>
								<th>Value</th>
								<th>Notes</th>
							</tr>
							<tr class="tick">
								<td>button.&lt;id&gt; </td>
								<td>pressed<br>
								<b>released</b></td>
								<td>The notifications are only made if they are 
								enabled in the settings above.<br>
								Pressed has to be specifically enabled.<br>
								Released has to be specifically disabled.</td>
							</tr>
							<tr class="tock">
								<td>name</td>
								<td>&lt;router name&gt;</td>
								<td>router name is the value that appears on the 
								depress-able button</td>
							</tr>
							<tr class="tick">
								<td>index</td>
								<td>&lt;router index&gt;</td>
								<td>index of the name that appears on the 
								depress-able button</td>
							</tr>
							<tr class="tock">
								<td>tally</td>
								<td>&lt;tally name&gt;</td>
								<td>The value that appears on the tally of the 
								button. This notification can occur when the 
								currently selected button is changed or when the 
								tally to the currently selected button changes</td>
							</tr>
						</table>
					</blockquote>
					<p>
	<br>
&nbsp;</p>
					<p>
	&nbsp;<!-- #EndEditable --></td>
			</tr>
		</table></td>
	</tr>
	<tr>
	<td valign="bottom" colspan="2" align="right">Copyright Atos 2012</td>
	</tr>
</table>
</body>

<!-- #EndTemplate -->

</html>
  
